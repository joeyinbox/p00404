function LogicGate(){}function DualInputGate(){}function AndGate(){}function NandGate(){}function OrGate(){}function NorGate(){}function XorGate(){}function XnorGate(){}function SingleInputGate(){}function NotGate(){}function Wire(){}function InputWire(){}function OutputWire(){}function UserInterface(){this.gateList=[],this.optionId=[],this.resource=[],this.resourceLoadedCount=0,this.gateType=[],this.error=!1,this.gateType.push(AndGate),this.gateType.push(AndGate),this.loadResources(),console.log(this.gateType[0].getResource()),console.log(this.resource)}function Question(){}function Quiz(){}LogicGate.prototype.drawGate=function(){},LogicGate.prototype.getPosition=function(){},DualInputGate.prototype=new LogicGate,DualInputGate.prototype.foo=function(){console.log("Dual Input Gate foo!")},DualInputGate.prototype.bar=function(a){console.log("dual gate baaaaaar: "+a)},AndGate.prototype=new DualInputGate,AndGate.getResource=function(){return"img/gate/and.svg"},NandGate.prototype=new DualInputGate,OrGate.prototype=new DualInputGate,NorGate.prototype=new DualInputGate,XorGate.prototype=new DualInputGate,XnorGate.prototype=new DualInputGate,SingleInputGate.prototype=new LogicGate,NotGate.prototype=new SingleInputGate,InputWire.prototype=new Wire,OutputWire.prototype=new Wire,UserInterface.prototype.loadResources=function(){this.resourceToLoad=this.gateType.length;for(var a=0;a<this.gateType.length;a++)this.resource[a]=this.preloadImage(this.gateType[a].getResource())},UserInterface.prototype.preloadImage=function(a){try{var b=new Image;return b.onload=this.resourceLoaded.bind(this),b.onerror=this.loadingError.bind(this),b.src=a,b}catch(c){return this.loadingError(),null}},UserInterface.prototype.loadingError=function(){this.error||(this.error=!0,alert("error during loading"))},UserInterface.prototype.resourceLoaded=function(){++this.resourceLoadedCount===this.resourceToLoad&&console.log("reveal interface")},UserInterface.prototype.addGate=function(a){void 0!==this.gateType[a]&&this.gateList.push(new this.gateType[a](this,a,0,0))},UserInterface.prototype.removeGate=function(a){var b=this.gateList.indexOf(a);-1!==b&&(a.unlinkAllWire(),this.gateList.splice(b,1))},UserInterface.prototype.refresh=function(){for(var a=0;a<this.gateList.length;a++)this.gateList[a].output.drawLinks();for(var a=0;a<this.gateList.length;a++)this.gateList[a].drawWires(),this.gateList[a].drawGate()},UserInterface.prototype.getResource=function(a){return void 0!==this.gateType[a]&&void 0!==this.resource[a]?this.resource[a]:void 0},$(function(){});